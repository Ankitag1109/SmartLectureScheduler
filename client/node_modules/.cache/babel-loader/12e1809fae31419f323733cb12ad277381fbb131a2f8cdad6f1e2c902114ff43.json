{"ast":null,"code":"// // src/App.jsx\n// import React from \"react\";\n// import {\n//   BrowserRouter as Router,\n//   Routes,\n//   Route,\n//   Navigate,\n// } from \"react-router-dom\";\n// // Pages\n// import AdminLogin from \"./pages/admin/AdminLogin\";\n// import Dashboard from \"./pages/admin/Dashboard\";\n// import InstructorLogin from \"./pages/instructor/InstructorLogin\";\n// import InstructorDashboard from \"./pages/instructor/InstructorDashboard\";\n// // Protected Routes\n// const AdminProtectedRoute = ({ children }) => {\n//   const adminToken = localStorage.getItem(\"adminToken\");\n//   if (!adminToken) return <Navigate to=\"/admin/login\" replace />;\n//   return children;\n// };\n// const InstructorProtectedRoute = ({ children }) => {\n//   const instructorToken = localStorage.getItem(\"instructorToken\");\n//   if (!instructorToken) return <Navigate to=\"/instructor/login\" replace />;\n//   return children;\n// };\n// const App = () => (\n//   <Router>\n//     <Routes>\n//       {/* Admin Routes */}\n//       <Route path=\"/admin/login\" element={<AdminLogin />} />\n//       <Route\n//         path=\"/admin/dashboard\"\n//         element={\n//           <AdminProtectedRoute>\n//             <Dashboard />\n//           </AdminProtectedRoute>\n//         }\n//       />\n//       {/* Instructor Routes */}\n//       <Route path=\"/instructor/login\" element={<InstructorLogin />} />\n//       <Route\n//         path=\"/instructor/dashboard\"\n//         element={\n//           <InstructorProtectedRoute>\n//             <InstructorDashboard />\n//           </InstructorProtectedRoute>\n//         }\n//       />\n//       {/* Default fallback */}\n//       <Route path=\"*\" element={<Navigate to=\"/admin/login\" replace />} />\n//     </Routes>\n//   </Router>\n// );\n// export default App;\n// src/App.jsx\nimport React from\"react\";import{BrowserRouter as Router,Routes,Route,Navigate}from\"react-router-dom\";// Pages\nimport RoleBasedLogin from\"./pages/RoleBasedLogin\";import Dashboard from\"./pages/admin/Dashboard\";import InstructorDashboard from\"./pages/instructor/InstructorDashboard\";// Protected route component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,role}=_ref;const token=localStorage.getItem(\"token\");// token saved after login\nconst userRole=localStorage.getItem(\"role\");// role saved after login\nif(!token||userRole!==role){return/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});// redirect to login if unauthorized\n}return children;};const App=()=>/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(RoleBasedLogin,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{role:\"admin\",children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/instructor/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{role:\"instructor\",children:/*#__PURE__*/_jsx(InstructorDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})});export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","RoleBasedLogin","Dashboard","InstructorDashboard","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","role","token","localStorage","getItem","userRole","to","replace","App","path","element"],"sources":["C:/Users/Ankita Gaikwad/Desktop/placement/Assesment/smart-lecture-scheduler/client/src/App.jsx"],"sourcesContent":["// // src/App.jsx\r\n// import React from \"react\";\r\n// import {\r\n//   BrowserRouter as Router,\r\n//   Routes,\r\n//   Route,\r\n//   Navigate,\r\n// } from \"react-router-dom\";\r\n\r\n// // Pages\r\n// import AdminLogin from \"./pages/admin/AdminLogin\";\r\n// import Dashboard from \"./pages/admin/Dashboard\";\r\n// import InstructorLogin from \"./pages/instructor/InstructorLogin\";\r\n// import InstructorDashboard from \"./pages/instructor/InstructorDashboard\";\r\n\r\n// // Protected Routes\r\n// const AdminProtectedRoute = ({ children }) => {\r\n//   const adminToken = localStorage.getItem(\"adminToken\");\r\n//   if (!adminToken) return <Navigate to=\"/admin/login\" replace />;\r\n//   return children;\r\n// };\r\n\r\n// const InstructorProtectedRoute = ({ children }) => {\r\n//   const instructorToken = localStorage.getItem(\"instructorToken\");\r\n//   if (!instructorToken) return <Navigate to=\"/instructor/login\" replace />;\r\n//   return children;\r\n// };\r\n\r\n// const App = () => (\r\n//   <Router>\r\n//     <Routes>\r\n//       {/* Admin Routes */}\r\n//       <Route path=\"/admin/login\" element={<AdminLogin />} />\r\n//       <Route\r\n//         path=\"/admin/dashboard\"\r\n//         element={\r\n//           <AdminProtectedRoute>\r\n//             <Dashboard />\r\n//           </AdminProtectedRoute>\r\n//         }\r\n//       />\r\n\r\n//       {/* Instructor Routes */}\r\n//       <Route path=\"/instructor/login\" element={<InstructorLogin />} />\r\n//       <Route\r\n//         path=\"/instructor/dashboard\"\r\n//         element={\r\n//           <InstructorProtectedRoute>\r\n//             <InstructorDashboard />\r\n//           </InstructorProtectedRoute>\r\n//         }\r\n//       />\r\n\r\n//       {/* Default fallback */}\r\n//       <Route path=\"*\" element={<Navigate to=\"/admin/login\" replace />} />\r\n//     </Routes>\r\n//   </Router>\r\n// );\r\n\r\n// export default App;\r\n// src/App.jsx\r\nimport React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Routes,\r\n  Route,\r\n  Navigate,\r\n} from \"react-router-dom\";\r\n\r\n// Pages\r\nimport RoleBasedLogin from \"./pages/RoleBasedLogin\";\r\nimport Dashboard from \"./pages/admin/Dashboard\";\r\nimport InstructorDashboard from \"./pages/instructor/InstructorDashboard\";\r\n\r\n// Protected route component\r\nconst ProtectedRoute = ({ children, role }) => {\r\n  const token = localStorage.getItem(\"token\"); // token saved after login\r\n  const userRole = localStorage.getItem(\"role\"); // role saved after login\r\n  if (!token || userRole !== role) {\r\n    return <Navigate to=\"/\" replace />; // redirect to login if unauthorized\r\n  }\r\n  return children;\r\n};\r\n\r\nconst App = () => (\r\n  <Router>\r\n    <Routes>\r\n      {/* Unified Role-Based Login */}\r\n      <Route path=\"/\" element={<RoleBasedLogin />} />\r\n\r\n      {/* Admin Dashboard */}\r\n      <Route\r\n        path=\"/admin/dashboard\"\r\n        element={\r\n          <ProtectedRoute role=\"admin\">\r\n            <Dashboard />\r\n          </ProtectedRoute>\r\n        }\r\n      />\r\n\r\n      {/* Instructor Dashboard */}\r\n      <Route\r\n        path=\"/instructor/dashboard\"\r\n        element={\r\n          <ProtectedRoute role=\"instructor\">\r\n            <InstructorDashboard />\r\n          </ProtectedRoute>\r\n        }\r\n      />\r\n\r\n      {/* Fallback route */}\r\n      <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\r\n    </Routes>\r\n  </Router>\r\n);\r\n\r\nexport default App;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OACEC,aAAa,GAAI,CAAAC,MAAM,CACvBC,MAAM,CACNC,KAAK,CACLC,QAAQ,KACH,kBAAkB,CAEzB;AACA,MAAO,CAAAC,cAAc,KAAM,wBAAwB,CACnD,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,MAAO,CAAAC,mBAAmB,KAAM,wCAAwC,CAExE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAwB,IAAvB,CAAEC,QAAQ,CAAEC,IAAK,CAAC,CAAAF,IAAA,CACxC,KAAM,CAAAG,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAE;AAC7C,KAAM,CAAAC,QAAQ,CAAGF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAE;AAC/C,GAAI,CAACF,KAAK,EAAIG,QAAQ,GAAKJ,IAAI,CAAE,CAC/B,mBAAON,IAAA,CAACL,QAAQ,EAACgB,EAAE,CAAC,GAAG,CAACC,OAAO,MAAE,CAAC,CAAE;AACtC,CACA,MAAO,CAAAP,QAAQ,CACjB,CAAC,CAED,KAAM,CAAAQ,GAAG,CAAGA,CAAA,gBACVb,IAAA,CAACR,MAAM,EAAAa,QAAA,cACLH,KAAA,CAACT,MAAM,EAAAY,QAAA,eAELL,IAAA,CAACN,KAAK,EAACoB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEf,IAAA,CAACJ,cAAc,GAAE,CAAE,CAAE,CAAC,cAG/CI,IAAA,CAACN,KAAK,EACJoB,IAAI,CAAC,kBAAkB,CACvBC,OAAO,cACLf,IAAA,CAACG,cAAc,EAACG,IAAI,CAAC,OAAO,CAAAD,QAAA,cAC1BL,IAAA,CAACH,SAAS,GAAE,CAAC,CACC,CACjB,CACF,CAAC,cAGFG,IAAA,CAACN,KAAK,EACJoB,IAAI,CAAC,uBAAuB,CAC5BC,OAAO,cACLf,IAAA,CAACG,cAAc,EAACG,IAAI,CAAC,YAAY,CAAAD,QAAA,cAC/BL,IAAA,CAACF,mBAAmB,GAAE,CAAC,CACT,CACjB,CACF,CAAC,cAGFE,IAAA,CAACN,KAAK,EAACoB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEf,IAAA,CAACL,QAAQ,EAACgB,EAAE,CAAC,GAAG,CAACC,OAAO,MAAE,CAAE,CAAE,CAAC,EAClD,CAAC,CACH,CACT,CAED,cAAe,CAAAC,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}