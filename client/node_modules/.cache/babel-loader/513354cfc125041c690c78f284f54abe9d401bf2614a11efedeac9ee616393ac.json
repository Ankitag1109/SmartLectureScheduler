{"ast":null,"code":"// src/pages/instructor/InstructorDashboard.jsx\nimport React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const InstructorDashboard=()=>{const navigate=useNavigate();const[instructorName,setInstructorName]=useState(\"\");const[courses,setCourses]=useState([]);const[lectures,setLectures]=useState([]);const[loading,setLoading]=useState(true);const token=localStorage.getItem(\"token\");// Get instructor name from localStorage\nuseEffect(()=>{const data=JSON.parse(localStorage.getItem(\"instructorData\"));if(data)setInstructorName(data.name);},[]);// Fetch courses and lectures\nuseEffect(()=>{const fetchData=async()=>{try{const res=await axios.get(\"http://localhost:5000/api/instructor/dashboard\",{headers:{Authorization:\"Bearer \".concat(token)}});setCourses(res.data.courseList||[]);setLectures(res.data.lectureList||[]);setLoading(false);}catch(err){console.error(\"Failed to fetch lectures\",err);setLoading(false);}};fetchData();},[token]);// Logout\nconst handleLogout=()=>{localStorage.removeItem(\"token\");localStorage.removeItem(\"instructorData\");navigate(\"/login\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"bg-blue-600 text-white px-6 py-4 flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-bold text-xl\",children:\"Instructor Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Welcome, \",instructorName]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"bg-white text-blue-600 px-3 py-1 rounded hover:bg-gray-200 transition\",children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-4\",children:\"Statistics\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium\",children:\"Courses\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:courses.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium\",children:\"Lectures\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:lectures.length})]})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:\"Courses Assigned\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"mb-4\",children:courses.map(course=>/*#__PURE__*/_jsx(\"li\",{className:\"bg-white p-2 rounded shadow mb-2\",children:course.title},course._id))}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:\"Lectures Assigned\"}),/*#__PURE__*/_jsx(\"ul\",{children:lectures.map(lec=>{var _lec$courseId;return/*#__PURE__*/_jsxs(\"li\",{className:\"bg-white p-2 rounded shadow mb-2\",children:[lec.title,\" (\",((_lec$courseId=lec.courseId)===null||_lec$courseId===void 0?void 0:_lec$courseId.title)||\"No course assigned\",\")\"]},lec._id);})})]})]});};export default InstructorDashboard;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","InstructorDashboard","navigate","instructorName","setInstructorName","courses","setCourses","lectures","setLectures","loading","setLoading","token","localStorage","getItem","data","JSON","parse","name","fetchData","res","get","headers","Authorization","concat","courseList","lectureList","err","console","error","handleLogout","removeItem","className","children","onClick","length","map","course","title","_id","lec","_lec$courseId","courseId"],"sources":["C:/Users/Ankita Gaikwad/Desktop/placement/Assesment/smart-lecture-scheduler/client/src/pages/instructor/InstructorDashboard.jsx"],"sourcesContent":["// src/pages/instructor/InstructorDashboard.jsx\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst InstructorDashboard = () => {\r\n  const navigate = useNavigate();\r\n  const [instructorName, setInstructorName] = useState(\"\");\r\n  const [courses, setCourses] = useState([]);\r\n  const [lectures, setLectures] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  // Get instructor name from localStorage\r\n  useEffect(() => {\r\n    const data = JSON.parse(localStorage.getItem(\"instructorData\"));\r\n    if (data) setInstructorName(data.name);\r\n  }, []);\r\n\r\n  // Fetch courses and lectures\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await axios.get(\r\n          \"http://localhost:5000/api/instructor/dashboard\",\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          }\r\n        );\r\n\r\n        setCourses(res.data.courseList || []);\r\n        setLectures(res.data.lectureList || []);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error(\"Failed to fetch lectures\", err);\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [token]);\r\n\r\n  // Logout\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"instructorData\");\r\n    navigate(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100\">\r\n      {/* Navbar */}\r\n      <nav className=\"bg-blue-600 text-white px-6 py-4 flex justify-between items-center\">\r\n        <h1 className=\"font-bold text-xl\">Instructor Dashboard</h1>\r\n        <div className=\"flex items-center gap-4\">\r\n          <span>Welcome, {instructorName}</span>\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"bg-white text-blue-600 px-3 py-1 rounded hover:bg-gray-200 transition\"\r\n          >\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Stats */}\r\n      <div className=\"p-6\">\r\n        <h2 className=\"text-2xl font-semibold mb-4\">Statistics</h2>\r\n        {loading ? (\r\n          <p>Loading...</p>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n            <div className=\"bg-white p-4 rounded shadow\">\r\n              <h3 className=\"text-lg font-medium\">Courses</h3>\r\n              <p className=\"text-2xl font-bold\">{courses.length}</p>\r\n            </div>\r\n            <div className=\"bg-white p-4 rounded shadow\">\r\n              <h3 className=\"text-lg font-medium\">Lectures</h3>\r\n              <p className=\"text-2xl font-bold\">{lectures.length}</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Course list */}\r\n        <h2 className=\"text-xl font-semibold mb-2\">Courses Assigned</h2>\r\n        <ul className=\"mb-4\">\r\n          {courses.map((course) => (\r\n            <li key={course._id} className=\"bg-white p-2 rounded shadow mb-2\">\r\n              {course.title}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n\r\n        {/* Lecture list */}\r\n        <h2 className=\"text-xl font-semibold mb-2\">Lectures Assigned</h2>\r\n        <ul>\r\n          {lectures.map((lec) => (\r\n            <li key={lec._id} className=\"bg-white p-2 rounded shadow mb-2\">\r\n              {lec.title} ({lec.courseId?.title || \"No course assigned\"})\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InstructorDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}